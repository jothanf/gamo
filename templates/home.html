<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GAMO - Gamificación Comunitaria</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/index.css">
  <link rel="stylesheet" href="../styles/navbar.css">
  <link rel="stylesheet" href="../styles/home.css">
  <script src="../scripts/navbar.js" defer></script>
  <script src="../scripts/home.js" defer></script>
</head>
<body>
  <!-- Incluir el navbar -->
  <div id="navbar-container"></div>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Encontrar tus roomies nunca fue tan chimba</h1>
        <p class="hero-text">Juega, completa misiones y alcanza tus metas <br>GAMO te acompaña y motiva</p>
        <div class="cta-buttons">
          <a href="#" class="btn btn-primary" id="btn-open-login">Iniciar sesión</a>
          <a href="#demo" class="btn btn-secondary">Ver demo</a>
        </div>
      </div>
    </section>

    <section id="features" class="features-section">
      <div class="container">
        <h2>¿Por qué compartir con GAMO?</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <img src="../imgs/home/card_1.png" alt="Metas" />
            </div>
            <h3>Alcanza tus metas</h3>
            <p>Con retos, puntos y recompensas que te hacen desarrollar tus habilidades, superarte y mejora la convivencia</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <img src="../imgs/home/card_2.png" alt="GAMO" />
            </div>
            <h3>GAMO</h3>
            <p>Es un agente IA que te gestiona todo, los pagos, reservas de zonas comunes, reportes, recordatorios, todo.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <img src="../imgs/home/card_3.png" alt="Busca y certifica" />
            </div>
            <h3>Busca y certifica</h3>
            <p>Este es nuestro plus, entre la comunidad de GAMO, podras encontrar tu roomie ideal, conoce gente nueva y comparte experiencias, GAMO te certifica como bestroomie</p>
          </div>
        </div>
      </div>
    </section>
    <!--
    <section id="how-it-works" class="how-section">
      <div class="container">
        <h2>Cómo Funciona</h2>
        <div class="steps-container">
          <div class="step">
            <div class="step-number">1</div>
            <h3>Regístrate</h3>
            <p>Crea tu cuenta como inquilino, crea tu avat</p>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <h3>Configura tu edificio</h3>
            <p>Añade unidades, zonas comunes y configura tu comunidad.</p>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <h3>Invita a tus vecinos</h3>
            <p>Comparte el acceso para que todos puedan unirse a la plataforma.</p>
          </div>
          <div class="step">
            <div class="step-number">4</div>
            <h3>¡Comienza a colaborar!</h3>
            <p>Participa en misiones, reporta incidencias y gana puntos.</p>
          </div>
        </div>
      </div>
    </section>
    -->
    <!--
    <section id="contact" class="contact-section">
      <div class="container">
        <h2>¿Listo para empezar?</h2>
        <p class="contact-text">Contáctanos para saber más o solicitar una demostración personalizada.</p>
        <form class="contact-form">
          <div class="form-group">
            <input type="text" id="name" name="name" placeholder="Nombre" required />
          </div>
          <div class="form-group">
            <input type="email" id="email" name="email" placeholder="Email" required />
          </div>
          <div class="form-group">
            <textarea id="message" name="message" placeholder="Mensaje" rows="4" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
      </div>

    </section>
    -->
    <section id="contact" class="contact-section">
      <div class="container">
        <div class="created-by">
          <span>Creado por&nbsp;</span>
          <a href="https://landing.noraagent.com/" target="_blank" rel="noopener">
            <img src="../imgs/logo/4.png" alt="Logo Nora" class="logo-nora" />
          </a>
        </div>
      </div>
    </section>
  </main>

  <footer class="main-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <span class="logo">GAMO</span>
          <p>Convivir mejor con GAMO</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 GAMO. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    // Cargar el navbar
    document.addEventListener('DOMContentLoaded', function() {
      fetch('/templates/components/navbar.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('navbar-container').innerHTML = data;
          
          // Cargar los scripts del navbar manualmente
          const script = document.createElement('script');
          script.src = '../scripts/navbar.js';
          document.body.appendChild(script);
        })
        .catch(error => console.error('Error cargando el navbar:', error));
    });
  </script>

  <!-- Modal de Login Mejorado -->
  <div id="modal-login" class="modal-login-bg" style="display:none;">
    <div class="login-container" style="position:relative; min-width:340px; max-width:400px;">
      <span class="modal-login-close" id="close-login-modal" style="position:absolute;right:18px;top:10px;font-size:2rem;cursor:pointer;">&times;</span>
      <div class="login-header">
        <h1>Iniciar Sesión - Inquilinos</h1>
        <p>Ingresa tus credenciales para acceder a tu cuenta</p>
      </div>
      <div id="login-message" style="margin-bottom:10px;"></div>
      <form id="form-login-inquilino">
        <div class="form-group">
          <label for="login-email">Correo Electrónico</label>
          <input type="email" id="login-email" name="email" class="form-control" required placeholder="ejemplo@correo.com">
        </div>
        <div class="form-group">
          <label for="login-password">Contraseña</label>
          <input type="password" id="login-password" name="password" class="form-control" required placeholder="Tu contraseña">
        </div>
        <button type="submit" class="btn-login-submit">Iniciar Sesión</button>
      </form>
      <div class="login-footer" style="margin-top:18px;">
        <p>¿No tienes una cuenta? <a href="../registro/registrar_inquilino.html">Regístrate</a></p>
        <p><a href="#">¿Olvidaste tu contraseña?</a></p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Abrir modal
      document.getElementById('btn-open-login').onclick = function(e) {
        e.preventDefault();
        document.getElementById('modal-login').style.display = 'flex';
      };
      // Cerrar modal
      document.getElementById('close-login-modal').onclick = function() {
        document.getElementById('modal-login').style.display = 'none';
        document.getElementById('login-message').innerHTML = '';
        document.getElementById('form-login-inquilino').reset();
      };
      // Cerrar al hacer click fuera del modal
      document.getElementById('modal-login').onclick = function(e) {
        if (e.target === this) {
          this.style.display = 'none';
          document.getElementById('login-message').innerHTML = '';
          document.getElementById('form-login-inquilino').reset();
        }
      };
      // Login AJAX
      document.getElementById('form-login-inquilino').onsubmit = function(e) {
        e.preventDefault();
        var form = this;
        var data = new FormData(form);
        fetch('/php/sesion/login_inquilino.php', {
          method: 'POST',
          body: data
        })
        .then(r => r.json())
        .then(res => {
          document.getElementById('login-message').innerHTML = res.success
            ? '<span style="color:green;">' + res.message + '</span>'
            : '<span style="color:red;">' + res.message + '</span>';
          if (res.success) {
            setTimeout(() => { window.location.href = '/templates/dashboard/inquilino_dashboard.html'; }, 1200);
          }
        });
      };
    });
  </script>
</body>
</html>
